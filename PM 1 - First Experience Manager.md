## Links
- [Project Milestone 1: First Experience Manager (instructure.com)](https://tulane.instructure.com/courses/2271434/assignments/14340782)
## Prerequisite
- [[Lab 00 - Project Setup#Create a Hello World application|Create a project]]
- [[Lab 00 - Project Setup#IV. Camelot|Configure Camelot]]
## Get Started
Use the following `HelloWorld.java` as an example:
```java
public class HelloWorld {

    public static void main(String[] args) {

        System.out.println("start ShowMenu");

        while (true); // keep running
    }

}
```
- It sends the message `"start ShowMenu"` (just like what we did [[Lab 00 - Project Setup#Launch Camelot|here]]).
- And the infinity `while` loop prevents the program from closing.
  > [!error]
  > Without the infinity loop, the program will terminate after running `println`, leading to a fatal error in Camelot.

![[HelloWorldEM.png]]
## Runnable JAR File Export
- Right-click on your project (in our example, `HelloWorld`) in Package Explorer and choose `Export...`
- Select `Java > Runnable JAR File` and click `Next`
- Specify "Export destination" (in the following example, a JAR file named `HelloWorld.jar` under the root directory of the project `HelloWorld`) and `Finish`
  ![[export_runnable_jar.png]]
  > [!note] Save as ANT script
  > This option will simplify the future exporting process. In the example above, we save the script as `build.xml` under the project's root directory.
  > When changes are made to the code, a new JAR file can be generated by:
  > 1. Select the project (`HelloWorld`) in Package Explorer
  > 2. Go to the menu bar: `Project > Build Project`
  > 
  > Detailed information should appear in the `Console` window then.
## Test in Eclipse
### Run as Java application
- Right-click `HelloWorld.java` and select `Run As > Java Application`
  > [!note]
  > In the case of an infinity loop, click the `Terminate` button (a red square) to stop the execution.
### Test the exported JAR file
- Right-click `HelloWorld.jar` in Package Explorer and select `Show in > Terminal`
- In the terminal, type and run:
  ```sh
  java -jar HelloWorld.jar
  ```
- Press `^C` (<ins>Control (or Ctrl) âŒƒ</ins> + <ins>C</ins>) to quit the infinity loop if necessary
## Run with Camelot
- Get the absolute (full) path of the JAR file
	- Right-click `HelloWorld.jar` in Package Explorer and select `Properties`
	- Copy the `Location` field
- Open `StartExperienceManager` script with an editor
	- For Windows, locate `StartExperienceManager.bat` alongside `Camelot.exe`
	- For MacOS, locate `StartExperienceManager.sh` alongside the `Camelot` app
- Update the script with: (replace `<absolute_path_of_your_jar_file>` accordingly)
  ```sh
  #java -jar ManualExperienceManager.jar
  java -jar "<absolute_path_of_your_jar_file>"
  ```
> [!tip]
> Look for recent logs in the `GamePlay` folder (alongside `Camelot`) to observe the communication between your experience manager and Camelot. Use the logs generated when running `ManualExperienceManager.jar` for reference.